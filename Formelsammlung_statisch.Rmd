---
title: "Formelsammlung Statistik"
author: "Lukas Warode"
output: pdf_document
fontsize: 10pt
---

```{r setup, include=FALSE}
library(tidyverse)

theme_set(theme_classic())

knitr::opts_chunk$set(fig.width = 4, 
                      fig.height = 2.5, 
                      fig.align = "center",
                      cache = FALSE)

modus <- function(var) {
  table(var) %>% 
    sort(decreasing = TRUE) %>% 
    names() %>% 
    .[1] %>% 
    as.numeric()
}
```

# Maße der zentralen Tendenz

## Modus

- Nominales Skalenniveau
- Häufigster Wert

\large 
$$ \large x_{mod} $$ 
\normalsize

## Median

- Ordinales Skalenniveau
- Mittlere Ausprägung bei Anordnung der Variable

Ungerade Anzahl an Fällen (n):
\large
$$ \large \tilde{x} = x_{(\frac{n+1}{2})}$$ 
\normalsize

```{r median I}
set.seed(42)

random_sample <- sample(1:42, 11)

sort(random_sample)

median(random_sample)
```

Gerade Anzahl an Fällen (n):
\large 
$$\large \tilde{x} =\frac{x_{(\frac{n}{2})} + x_{(\frac{n}{2}+1)}}{2}$$
\normalsize

```{r median II}
random_sample <- random_sample[random_sample != max(random_sample)]

sort(random_sample)

median(random_sample)
```

## Arithmetisches Mittel

- Metrisches Skalenniveau
- Summe aller Fälle durch Anzahl der Fälle teilen

\large 
$$\large \bar{x} = \frac{x_{1} + x_{2} + ... + x_{n}}{n} = \frac{1}{n} \sum_{i=i}^{n} x_{i} $$
\normalsize
```{r mean}
random_sample

mean(random_sample)
```

# Verteilungsformen

## Symmetrisch (Normalverteilung)

\large 
$$\large x_{mod} = \tilde{x} = \bar{x} $$
\normalsize
```{r, echo=FALSE, warning=FALSE}
random_sample_symmetric <- round(rbeta(1000000, 5, 5), 3)

# random_sample_symmetric <- round(rnorm(n = 10000, mean = 0, sd = 0.5), 1)

# random_sample_symmetric <- round(fGarch::rsnorm(10000, mean = 0, sd = 0.5, xi = -10), 1)

random_sample_symmetric %>% 
  as_tibble() %>% 
  ggplot(aes(value)) + 
  geom_density() +
  geom_vline(xintercept = modus(random_sample_symmetric), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(x[mod]), x = modus(random_sample_symmetric), y = 1.5, size = 5) +
  # geom_vline(xintercept = median(random_sample_symmetric), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(tilde(x)) , x = modus(random_sample_symmetric), y = 1, size = 5) +
  # geom_vline(xintercept = mean(random_sample_symmetric), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(bar(x)), x = modus(random_sample_symmetric), y = 0.5, size = 5) 
```

## Linkssteil / Rechtsschief

\large 
$$\large x_{mod} < \tilde{x} < \bar{x} $$
\normalsize
```{r, echo=FALSE, warning=FALSE}
random_sample_right_skewed <- round(rbeta(1000000, 2, 4.5), 3)

# random_sample_right_skewed <- round(rnorm(n = 10000, mean = 0, sd = 0.5), 1)

# random_sample_right_skewed <- round(fGarch::rsnorm(10000, mean = 0, sd = 0.5, xi = -10), 1)

random_sample_right_skewed %>% 
  as_tibble() %>% 
  ggplot(aes(value)) + 
  geom_density() +
  geom_vline(xintercept = modus(random_sample_right_skewed), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(x[mod]), x = modus(random_sample_right_skewed), y = 1.5, size = 5) +
  geom_vline(xintercept = median(random_sample_right_skewed), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(tilde(x)), x = median(random_sample_right_skewed), y = 1, size = 5) +
  geom_vline(xintercept = mean(random_sample_right_skewed), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(bar(x)), x = mean(random_sample_right_skewed), y = 0.5, size = 5) 
```

## Rechtssteil / Linksschief

\large 
$$\large x_{mod} > \tilde{x} > \bar{x} $$
\normalsize
```{r, echo=FALSE, warning=FALSE}
random_sample_left_skewed <- round(rbeta(1000000, 4.5, 2), 3)

random_sample_left_skewed %>% 
  as_tibble() %>% 
  ggplot(aes(value)) + 
  geom_density() +
  geom_vline(xintercept = modus(random_sample_left_skewed), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(x[mod]), x = modus(random_sample_left_skewed), y = 1.5, size = 5) +
  geom_vline(xintercept = median(random_sample_left_skewed), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(tilde(x)), x = median(random_sample_left_skewed), y = 1, size = 5) +
  geom_vline(xintercept = mean(random_sample_left_skewed), alpha = 0.25, linetype = 2) +
  annotate("text", label = expression(bar(x)), x = mean(random_sample_left_skewed), y = 0.5, size = 5) 
```

# Streuungsmaße

## Spannweite

- Ordinales Skalenniveau
- Differenz zwischen größter und kleinster Ausprägung

\large 
$$\large  R = x_{max} - x_{min} $$
\normalsize

## Interquartilsabstand (IQR)

- Ordinales Skalenniveau
- Intervall der mittleren 50% der Stichprobe

\large 
$$\large  IQR = Q_{0.75} - Q_{0.25} $$
\normalsize

## Variation (Summe der Abweichungsquadrate)

- Metrisches Skalenniveau
- Englisch: *Sum of squares / sum of squared deviations*

\large 
$$\large  SS_{x} = \sum_{i=1}^n (x_{i} - \bar{x})^2 $$
\normalsize

## Varianz 

- Metrisches Skalenniveau
- Standardisierte Variation

\large 
$$\large  s_{x}^2 = \frac{1}{n} \sum_{i=1}^n (x_{i} - \bar{x})^2 $$
\normalsize

## Standardabweichung

- Metrisches Skalenniveau
- Quadratwurzel der Varianz
- Durchschnittliche Abweichung von Werten zum Arithmetischen Mittel

\large 
$$\large  \sigma_{x_{Population}} = \sqrt{\sigma_{x}^2} = \sqrt{\frac{1}{n} \sum_{i=1}^n (x_{i} - \bar{x})^2}$$
$$\large  s_{x_{Stichprobe}} = \sqrt{s_{x}^2} = \sqrt{\frac{1}{n-1} \sum_{i=1}^n (x_{i} - \bar{x})^2} $$
\normalsize

## Variationskoeffizient (Abweichungskoeffizient)

- Metrisches Skalenniveau
- Relatives Streuungsmaß, d.h. nicht abhängig von der Maßeinheit der Variable
- Standardbweichung in Relation zum Arithmetischen Mittel

\large 
$$\large V_{x} = \frac{s_{x}}{\bar{x}} $$
\normalsize

# Standardfehler

- (Durchschnittliche) Abweichung von Stichprobenkennwerten zu Populationskennwerten, z.B. vom Mittelwert

## Standardfehler des Arithmetischen Mittelwertes (*Standard error of the mean*)

\large
$$\large \sigma_{\bar{x}_{Population}} = \frac{\sigma}{\sqrt{n}} = \sqrt{\frac{\sigma^2}{n}} $$
$$\large s_{\bar{x}_{Stichprobe}} = \frac{s}{\sqrt{n}} = \sqrt{\frac{s^2}{n}} $$
$$\large \hat{\sigma}_{\bar{x}_{Population, \ geschätzt}} = \frac{s}{\sqrt{n-1}} = \sqrt{\frac{s^2}{n-1}} $$
\normalsize

